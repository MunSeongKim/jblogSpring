<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="post">
	<insert id="insert" parameterType="postvo">
		<![CDATA[
		INSERT INTO category
		       VALUES(null, #{name}, #{description}, 0, now(), #{userId})
		]]>
	</insert>
	
	<select id="selectAllById"
			parameterType="String"
			resultType="postvo">
		<![CDATA[
		SELECT no, category_no as categoryNo, title, body, reg_date as regDate
		  FROM post
		 WHERE category_no IN (SELECT no
								 FROM category
								WHERE user_id = #{id})
		]]>		
	</select>
			
</mapper>